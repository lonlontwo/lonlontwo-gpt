<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…”å…”åŠ©ç† - ç®¡ç†å¾Œå°</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600&family=Noto+Sans+TC:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            align-items: flex-start;
            background: #fff5f7;
            display: none;
            /* é è¨­éš±è—ï¼Œé©—è­‰å¾Œæ‰é¡¯ç¤º */
        }
    </style>
    <script>
        // --- å®‰å…¨é©—è­‰ ---
        (function () {
            const PASS = "csmcsm46";
            const sessionKey = "BUNNY_ADMIN_AUTH";

            if (localStorage.getItem(sessionKey) !== "true") {
                const input = prompt("è«‹è¼¸å…¥ç®¡ç†å“¡æš—è™Ÿï¼š");
                if (input === PASS) {
                    localStorage.setItem(sessionKey, "true");
                } else {
                    alert("æš—è™ŸéŒ¯èª¤ï¼");
                    window.location.href = "index.html";
                }
            }
        })();
    </script>
</head>

<body id="admin-body">
    <script>document.body.style.display = "block";</script>

    <div class="admin-container">
        <div class="admin-header">
            <h1>ğŸ° å…”å…”åŠ©ç†ç®¡ç†å¾Œå°</h1>
            <p>åœ¨é€™è£¡èª¿æ•´æ‚¨çš„ AI åŠ©æ‰‹è¨­å®š</p>
            <button onclick="localStorage.removeItem('BUNNY_ADMIN_AUTH'); location.reload();"
                style="font-size: 0.7rem; background: none; border: 1px solid #ccc; cursor: pointer; padding: 2px 5px; border-radius: 4px; color: #888;">ç™»å‡ºå¾Œå°</button>
        </div>

        <div class="form-group">
            <label>API Key (Gemini)</label>
            <input type="password" id="admin-api-key" placeholder="è²¼ä¸Šæ‚¨çš„ AIza... Key">
        </div>

        <div class="form-group">
            <label>åŠ©ç†é¡¯ç¤ºåç¨±</label>
            <input type="text" id="admin-bot-name" placeholder="ä¾‹å¦‚ï¼šå…”å…”åŠ©ç†">
        </div>

        <div class="form-group">
            <label>åŠ©ç†å€‹æ€§è¨­å®š (System Prompt)</label>
            <textarea id="admin-prompt" rows="5" placeholder="ä¾‹å¦‚ï¼šä½ æ˜¯ä¸€å€‹å¯æ„›çš„å…”å­åŠ©ç†..."></textarea>
        </div>

        <div class="form-group">
            <label>å¿«é€Ÿé¸å–®å…§å®¹ (ä»¥é€—è™Ÿéš”é–‹)</label>
            <input type="text" id="admin-chips" placeholder="ä¾‹å¦‚ï¼šå…”å…”æ˜¯èª°ï¼Ÿ,è¯çµ¡ç«™é•·,æˆ‘æƒ³è²·èƒ¡è˜¿è””">
        </div>

        <div class="form-group">
            <label>ä¸»é¡Œè‰² (HEX)</label>
            <div style="display: flex; gap: 10px; align-items: center;">
                <input type="color" id="admin-color" style="width: 50px; height: 50px; padding: 0; border: none;">
                <span id="color-hex">#ff8fb1</span>
            </div>
        </div>

        <button class="save-btn" onclick="saveSettings()">ğŸ’¾ å„²å­˜ä¸¦å¥—ç”¨è¨­å®š</button>

        <div style="margin-top: 30px; padding: 20px; background: #f0f0f0; border-radius: 10px;">
            <h3 style="margin-bottom: 10px;">ğŸ”— åµŒå…¥æ‚¨çš„ç¶²ç«™</h3>
            <p style="font-size: 0.8rem; color: #666; margin-bottom: 10px;">è«‹å°‡ä»¥ä¸‹ä»£ç¢¼è¤‡è£½ä¸¦è²¼åˆ°æ‚¨ç¶²ç«™çš„ &lt;body&gt; æ¨™ç±¤çµæŸå‰ï¼š</p>
            <code id="embed-code"
                style="display: block; background: #333; color: #fff; padding: 15px; border-radius: 5px; font-size: 0.8rem; word-break: break-all;">
                &lt;script src="https://lonlontwo-gpt.pages.dev/bunny-launcher.js"&gt;&lt;/script&gt;
            </code>
            <button onclick="copyEmbed()" style="margin-top: 10px; padding: 5px 10px; cursor: pointer;">ğŸ“‹ è¤‡è£½ä»£ç¢¼</button>
        </div>

        <p class="preview-notice">å„²å­˜å¾Œï¼Œæ‚¨å¯ä»¥è¿”å›é¦–é é‡æ–°æ•´ç†æŸ¥çœ‹æ•ˆæœã€‚</p>

        <div style="margin-top: 20px; text-align: center;">
            <a href="index.html" style="color: #ff8fb1; text-decoration: none;">â† å›åˆ°èŠå¤©æ¸¬è©¦é é¢</a>
        </div>
    </div>

    <script>
        // è¼‰å…¥ç›®å‰è¨­å®š
        const defaultConfig = {
            botName: "å…”å…”åŠ©ç†",
            apiKey: "AIzaSyCdo6SXaNGx6WF1wTCLemU-7Juq5Ca3CmQ",
            prompt: "ä½ æ˜¯ä¸€å€‹ç¶²ç«™åŠ©ç†ï¼Œåå«ã€Œå…”å…”åŠ©ç†ã€ã€‚ä½ çš„èªæ°£éå¸¸å¯æ„›ã€è¦ªåˆ‡ï¼Œå¸¸å¸¶æœ‰å…”å­ç›¸é—œçš„è¡¨æƒ…ç¬¦è™Ÿï¼ˆå¦‚ ğŸ°, ğŸ¥•, ğŸ¾ï¼‰ã€‚ä½ è² è²¬å”åŠ©ä½¿ç”¨è€…äº†è§£ã€å…”å…”ç¶²ã€çš„å…§å®¹ã€‚",
            chips: "å…”å…”ç¶²åœ¨å“ªè£¡ï¼Ÿ,åŠ©ç†èƒ½åšä»€éº¼ï¼Ÿ,è¯çµ¡ç«™é•·",
            color: "#ff8fb1"
        };

        const config = JSON.parse(localStorage.getItem('BUNNY_CONFIG')) || defaultConfig;

        document.getElementById('admin-api-key').value = config.apiKey;
        document.getElementById('admin-bot-name').value = config.botName;
        document.getElementById('admin-prompt').value = config.prompt;
        document.getElementById('admin-chips').value = config.chips;
        document.getElementById('admin-color').value = config.color;
        document.getElementById('color-hex').innerText = config.color;

        document.getElementById('admin-color').oninput = function () {
            document.getElementById('color-hex').innerText = this.value;
        };

        function saveSettings() {
            const newConfig = {
                apiKey: document.getElementById('admin-api-key').value,
                botName: document.getElementById('admin-bot-name').value,
                prompt: document.getElementById('admin-prompt').value,
                chips: document.getElementById('admin-chips').value,
                color: document.getElementById('admin-color').value
            };
            localStorage.setItem('BUNNY_CONFIG', JSON.stringify(newConfig));
            alert('è¨­å®šå·²å„²å­˜ï¼ğŸ°');
        }

        function copyEmbed() {
            const code = document.getElementById('embed-code').innerText;
            navigator.clipboard.writeText(code);
            alert('ä»£ç¢¼å·²å¾©åˆ¶åˆ°å‰ªè²¼ç°¿ï¼');
        }
    </script>
</body>

</html>